nonisolated struct Player: Sendable, Codable, Identifiable {
    var id: Int64
    var name: String
    var score: Int

    enum Columns {
        static let id = Column(CodingKeys.id)
            static let name = Column(CodingKeys.name)
            static let score = Column(CodingKeys.score)
    }

    static let databaseTableName = "players"

    static let createTableMigration = Migration(id: "create_players") { db in
                try db.create(table: "players") { t in
                t.primaryKey("id", .integer)
                t.column("name", .text).notNull()
                t.column("score", .integer).notNull()
                }
            }
}

extension Player: nonisolated Hashable, nonisolated FetchableRecord, nonisolated PersistableRecord {
}

extension Player: AutoMigrating {
}
