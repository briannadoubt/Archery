struct Comment: Codable, FetchableRecord, PersistableRecord {
    var id: String
    var content: String
    var postId: String?
    var createdAt: Date

    enum Columns {
        static let id = Column(CodingKeys.id)
            static let content = Column(CodingKeys.content)
            static let postId = Column(CodingKeys.postId)
            static let createdAt = Column(CodingKeys.createdAt)
    }

    static let databaseTableName = "comments"

    static let createTableMigration = Migration(id: "create_comments") { db in
                try db.create(table: "comments") { t in
                t.primaryKey("id", .text)
                t.column("content", .text).notNull()
                t.column("post_id", .text)
                t.column("created_at", .datetime).notNull()
                }
                try db.create(index: "comments_post_id_idx", on: "comments", columns: ["post_id"])
            }
}

extension Comment: nonisolated Identifiable, nonisolated Hashable {
}

extension Comment: AutoMigrating {
}

extension Comment: HasCreatedAt {
}